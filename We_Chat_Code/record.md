### deepfm è®­ç»ƒ

sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                   'watch_count_group','video_time_group','feed_cluter','device'\]

dense_features = \['videoplayseconds',"watch_count","play_times"\]

train 2è½®ï¼›train+val 2è½®ï¼›çº¿ä¸Š0.633
train 4è½®å–valæœ€å¥½ä¸€è½®ï¼›çº¿ä¸Š0.62+
train+val 2è½®ï¼›çº¿ä¸Š0.64

æœ€ä½³è®­ç»ƒæ¬¡æ•°ï¼š2 1-2 1 1 ï¼ˆå…¨ç‰¹å¾ lr 1e-3ï¼‰
*****************************************\*éªŒè¯å¹³å‡auc\*************************************************
- è¿‘5å¤© çº¿ä¸‹0.636273
{'read_comment': 0.6199823869987381, 'like': 0.6017126749161305, 'click_avatar': 0.7050422743093835, 'forward': 0.6675795302458095}

- è¿‘8å¤© çº¿ä¸‹0.639605
{'read_comment': 0.6224379463184858, 'like': 0.6059773898506764, 'click_avatar': 0.7072085269511902, 'forward': 0.6739506679008004}

- è¿‘10å¤©ï¼ˆè‡³å°‘ï¼‰ çº¿ä¸‹0.638186 ï¼ˆçº¿ä¸Š0.641ï¼‰

'read_comment'ï¼Œ'like'ä½¿ç”¨å…¨é‡æ•°æ®ï¼›å‡è¿‘14å¤©
- è¿‘14å¤© çº¿ä¸‹0.640968
{'read_comment': 0.6243404064300453, 'like': 0.6126659356566528, 'click_avatar': 0.704541694123057, 'forward': 0.6652373249790454}

- è¿‘14å¤© **å»æ‰ç»Ÿè®¡ç‰¹å¾ lré™ä½ä¸º1e-4** 0.643435 æœ€ä½³æ¬¡æ•°å˜ä¸º 3 1 1 1-2
{'read_comment': 0.6255190765993955, 'like': 0.6095767087571887, 'click_avatar': 0.7130287439662827, 'forward': 0.6774854063312911}

- åŒä¸Š çº¿ä¸‹0.643225
{'read_comment': 0.6268284381322246, 'like': 0.611232852125487, 'click_avatar': 0.7090955246453364, 'forward': 0.6730422639891026}

- åŒä¸Š batch size 1024 çº¿ä¸‹0.642612
{'read_comment': 0.6281304769913477, 'like': 0.6078619264030004, 'click_avatar': 0.7081553838699107, 'forward': 0.6736968449278954}

**********************\*ç‰¹å¾ç­›é€‰\***********************

sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                   'video_time_group','feed_cluter'\]

dense_features = \['videoplayseconds',\]

- 512 1e-4 çº¿ä¸‹0.643 çº¿ä¸Š0.647

sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',]

dense_features = \['videoplayseconds',\]

- çº¿ä¸‹0.638
{'read_comment': 0.6251384477946802, 'like': 0.6033639178148035, 'click_avatar': 0.7041342001837759, 'forward': 0.6665725485253485}


sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                  'video_time_group'\]
dense_features = \['videoplayseconds',\]
                  
- çº¿ä¸‹0.639452
{'read_comment': 0.6241811887446351, 'like': 0.6049839618528134, 'click_avatar': 0.7067038700907645, 'forward': 0.6694309809564598}

sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                  'video_time_group','feed_cluter'\]

dense_features = \['videoplayseconds',\]


- çº¿ä¸‹0.642769
{'read_comment': 0.6254769596804562, 'like': 0.6108017710171184, 'click_avatar': 0.7107121834973235, 'forward': 0.671949356547608}


sparse_features = \['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                  'video_time_group','feed_cluter'\]

dense_features = \['videoplayseconds',"watch_count"\]

- çº¿ä¸‹0.6435
{'read_comment': 0.6265549030785226, 'like': 0.6105894131696931, 'click_avatar': 0.7113803388435489, 'forward': 0.6747663246035392}

sparse_features =\['userid', 'feedid', 'authorid', 'bgm_song_id', 'bgm_singer_id',\
                  'video_time_group','feed_cluter','watch_count_group'\]

dense_features = \['videoplayseconds',"watch_count"\]

- 0.641986
'read_comment': 0.624047064656998, 'like': 0.6097802079580937, 'click_avatar': 0.7090291099959548, 'forward': 0.6762756307715706}

- åŠ æ–‡æœ¬ 0.641815
{'read_comment': 0.6236724742760424, 'like': 0.60931683104675, 'click_avatar': 0.7101972503442884, 'forward': 0.6751124945034536}

- æè¿°æ–‡æœ¬+w 0.644351 day=14
{'read_comment': 0.6201335979611015, 'like': 0.6099472822620842, 'click_avatar': 0.7177964501579873, 'forward': 0.6975372485204184}

- æè¿°æ–‡æœ¬+w+relu 0.645587 day=14
{'read_comment': 0.6234089122026407, 'like': 0.612597064703433, 'click_avatar': 0.718723988399777, 'forward': 0.6869988222930781}

- æè¿°æ–‡æœ¬+w+relu lr 5e-4 day=12 13 14å¹³å‡ çº¿ä¸‹0.646 

- ä¸‰æ–‡æœ¬+åŒä¸€ä¸ªw relu 5e-4 å¹³å‡ 0.64586
{'read_comment': 0.6274693346023839, 'like': 0.6135024739778517, 'click_avatar': 0.7132876158011593, 'forward': 0.681887335954462}
0.645885
- æè¿°æ–‡æœ¬ 0.645486
{'read_comment': 0.6271092275169335, 'like': 0.6146459316048577, 'click_avatar': 0.7125729682574398, 'forward': 0.6773421468398544}

- æ— æ–‡æœ¬ 0.643165
{'read_comment': 0.6245893700135157, 'like': 0.6117770921642428, 'click_avatar': 0.7112617214594792, 'forward': 0.6754332503859052}

- æè¿°+tag å¹³å‡0.649817
{'read_comment': [0.6284210642378288, 0.6362546668383657, 0.6267226894765499], 'like': [0.6121133232305619, 0.6167272171930709, 0.619529707546596], 'click_avatar': [0.7291981253346096, 0.7048024991595907, 0.7265557436541425], 'forward': [0.6973839899345816, 0.6506831524079039, 0.7146238542512297]}
{'read_comment': 0.6304661401842482, 'like': 0.6161234159900763, 'click_avatar': 0.7201854560494475, 'forward': 0.6875636655312384}

- æè¿°+tag day=14 0.65279 (çº¿ä¸Šä¸è¡Œ)
{'read_comment': 0.6254662226198456, 'like': 0.6200254963998304, 'click_avatar': 0.7252890601847548, 'forward': 0.7153780639721851}

- æè¿°+tag+keyword day=14 0.651084 
{'read_comment': 0.6284241749876499, 'like': 0.6146312778823496, 'click_avatar': 0.7246390943271811, 'forward': 0.7039706425267117}

- æè¿°+tag+l2æ­£åˆ™åŒ– day=14 0.65081
{'read_comment': 0.6260413243338921, 'like': 0.6173145430577851, 'click_avatar': 0.7248430985823433, 'forward': 0.7023056849377328}

- æè¿°+tag+l2æ­£åˆ™åŒ–+tagåšåµŒå…¥äº¤äº’ day=14 0.652007
{'read_comment': 0.6305935378370825, 'like': 0.6173954806313016, 'click_avatar': 0.7211424298337089, 'forward': 0.7032237915905406}

- tag+l2æ­£åˆ™åŒ–+tagåšåµŒå…¥äº¤äº’ day=14 0.650387
{'read_comment': 0.6251355822893914, 'like': 0.6163538542272894, 'click_avatar': 0.7235189172369482, 'forward': 0.7072279838250585}

- æè¿°+tag+keyword+l2æ­£åˆ™åŒ–+tag keywordåšåµŒå…¥äº¤äº’ day=14 0.652117
{'read_comment': 0.6261201590227095, 'like': 0.6196703524115126, 'click_avatar': 0.7256728454563246, 'forward': 0.7063280012031418}

- tag+keyword+l2æ­£åˆ™åŒ–+tag keywordåšåµŒå…¥äº¤äº’ day=14 0.650343
{'read_comment': 0.6273181913431063, 'like': 0.6159835140237018, 'click_avatar': 0.7205942433746874, 'forward': 0.7050212245735124}

- ğŸˆæè¿°+tag+keyword+l2æ­£åˆ™åŒ–+tag keywordåšåµŒå…¥äº¤äº’+tag keyword pairæ˜¾å¼æ„é€  day=14 0.652488
{'read_comment': 0.6308751861159363, 'like': 0.617817400706654, 'click_avatar': 0.7259398876914748, 'forward': 0.6960485140181045}

- æè¿°+tag+keyword+l2æ­£åˆ™åŒ–+tag keywordåšåµŒå…¥äº¤äº’+æ‰€æœ‰ç‰¹å¾pairå’Œtag kw æ˜¾å¼æ„é€ (ç‚¹ä¹˜) day=14 å¾ˆå·®

- æè¿°+tag+keyword+l2æ­£åˆ™åŒ–+tag keywordåšåµŒå…¥äº¤äº’+æ‰€æœ‰ç‰¹å¾pairå’Œtag kw æ˜¾å¼æ„é€ (å†…ç§¯) day=14 0.651309
{'read_comment': 0.6270778572752107, 'like': 0.6194584032832436, 'click_avatar': 0.7202701053384337, 'forward': 0.705863362992848}

- ğŸˆ+useråœ¨4ä¸ªactionä¸Šçš„sumåˆ†ç»„(ä½¿ç”¨å…¨å±€<14ç»Ÿè®¡) day=14 0.649447
{'read_comment': 0.6244365048373469, 'like': 0.6168351018635854, 'click_avatar': 0.7256943742570141, 'forward': 0.6948264474502126}



åŠ å…¥historyä¹‹å
- 5e-5 å•ç‹¬åºåˆ—mean len=3 day=14 0.643262
{'read_comment': 0.6234425362476025, 'like': 0.6077482350198988, 'click_avatar': 0.7154796567029144, 'forward': 0.6846433331124386}


- ä¸åŠ History å•ç‹¬æ„é€ uidå’Œæ‰€æœ‰fieldçš„ç‚¹ä¹˜ day=14 0.652896
{'read_comment': 0.6275628950455207, 'like': 0.6197766692878597, 'click_avatar': 0.7227792355693444, 'forward': 0.7138151160610998}
ä¸Šè¿°å¹³å‡ 0.650882
{'read_comment': 0.6331151274653335, 'like': 0.6184444654554712, 'click_avatar': 0.7163815080285404, 'forward': 0.6882585557467013}

******************************************\*day=14éªŒè¯auc\********************************************
è¿‘14å¤© å•ç‹¬éªŒè¯0.640167ï¼ˆçº¿ä¸Š0.643ï¼‰ çº¿ä¸‹å¹³å‡éªŒè¯0.640968 
{'read_comment': 0.6188896205080338, 'like': 0.6108728908731851, 'click_avatar': 0.7079818045857035, 'forward': 0.6775319047857368}

è¿‘14å¤© çº¿ä¸‹0.6481ï¼ˆæ³¨ï¼šforwardè™šé«˜äº† çº¿ä¸Š0.643ï¼‰
{'read_comment': 0.6205148730886926, 'like': 0.6123651527829511, 'click_avatar': 0.7251071331720969, 'forward': 0.7116425038766895}


******************************************\*12 13 14 å¹³å‡like\****************************************

å•ç‹¬é€šè¿‡likeçš„aucæ¥éªŒè¯æ¨¡å‹è®¾è®¡

- 3æ–‡æœ¬50ï¼Œç›¸åŒå°ºå¯¸ä½†æ˜¯ä¸åŒçš„å·ç§¯æ ¸ï¼Œä¸‰ä¸ªmlp 1e-3 0.613916 ï¼ˆ6145191127766729ï¼‰
{'like': [0.6114246957444, 0.6158031000907485, 0.6145191127766729]}
 
- 3æ–‡æœ¬50ï¼Œç›¸åŒå·ç§¯æ ¸ï¼Œä¸‰ä¸ªmlp 1e-3 0.612442
{'like': [0.6099656441459852, 0.6163762949415026, 0.6109835301917546]}

- 3æ–‡æœ¬50ï¼Œç›¸åŒå°ºå¯¸ä½†æ˜¯ä¸åŒçš„å·ç§¯æ ¸ï¼Œä¸‰ä¸ªmlp,1e-3 txtæ˜¾å¼pairæ„é€  å¾ˆå·®


**********************************************************************************************

Q1ï¼šå¿…é¡»å°†day=14çš„ä¹Ÿè®­ç»ƒè¿›å»ï¼›è¿˜æ˜¯è¯´å¿…é¡»å°†valè®­ç»ƒè¿›å»ï¼Ÿï¼Ÿ

Q2ï¼šæ˜¯å¦éœ€è¦äº¤å‰éªŒè¯ï¼Ÿï¼Ÿ

**********************************************************************************************
N1ï¼šå­¦ä¹ ç‡0.1 0.01ä¸åˆé€‚ï¼Œ0.001 0.0001å‡å¯

N2ï¼šç»Ÿè®¡ç‰¹å¾éçº¿æ€§(log ^2 exp)å¢åŠ ä¹‹åï¼Œçº¿ä¸‹æ¶¨å¹¶ä¸”ç¨³å®šï¼Œçº¿ä¸Šè·Œï¼›æ˜¯ç‰¹å¾ç©¿è¶Šè¿˜æ˜¯éçº¿æ€§ç‰¹å¾è¿‡å¤šè¿˜æ˜¯æ²¡æœ‰å½’ä¸€åŒ–ï¼Ÿ

N3ï¼šåµŒå…¥ç»´åº¦å¯¹äºè¡¨ç°å½±å“ä¸å¤§(k=8,16,64 åŸºæœ¬éƒ½ä¸€æ ·)ï¼›DNNä½¿ç”¨BNä¼šå‡å¼±çº¿ä¸‹è¡¨ç°ï¼›å¢åŠ åµŒå…¥ã€å‚æ•°æ­£åˆ™åŒ–ä¼šå‡å¼±çº¿ä¸‹è¡¨ç°

N4ï¼šè®¾è®¡çš„è´Ÿé‡‡æ ·å’Œéšæœºçš„è´Ÿé‡‡æ ·çº¿ä¸‹æ•ˆæœä¸€æ ·

N5ï¼šdeviceå’Œè®¾è®¡çš„ 'watch_count_group','video_time_group','feed_cluter'ï¼›
"watch_count","play_times" åŠ äº†å’Œä¸åŠ çº¿ä¸‹æ•ˆæœä¸æ˜æ˜¾

N6ï¼šxdeepfmå’Œautointçº¿ä¸‹æ•ˆæœå¾ˆå·® ä¸ç¨³å®šï¼›ä¸å¦‚wdl deepfm

N7ï¼šåŒä¸€ä¸ªæ¨¡å‹çš„é¢„æµ‹ç»“æœ å¤šè·‘å‡ æ¬¡æ±‚å¹³å‡ çº¿ä¸Šä¼šæ›´å¥½

N8ï¼šnnä¸­å…³æ³¨äºç±»åˆ«ï¼Œlgbå…³æ³¨å„ç§ç‰¹å¾çš„æ„é€ 
